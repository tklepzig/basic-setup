function cmdWithPattern()
{
    cmd=$1
    pattern=""
    args=""

    for var in "${@:2}"
    do
        if [[ $var == p:* ]]
        then            
            pattern="-- ./*${var:2}*"
        else
            args="$args $var"
        fi  
    done

    $cmd $args $pattern    
}
